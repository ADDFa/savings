import{r as i,j as e,F as g,a as m,s as x,e as h,g as f,c as y}from"./index-177a1da9.js";const j=c=>{const{id:n,showMessage:s,setTextMessage:d}=c,[t,l]=i.useState(),u=async a=>{const o=x(a);await h(`income/${n}`,{body:o})&&s()};return i.useEffect(()=>{d("Berhasil mengubah pemasukan"),(async o=>{const r=await f(o);r&&l(r)})(`income/${n}`)},[]),e.jsx(e.Fragment,{children:t?e.jsx(g,{handleSubmit:u,textButton:"Ubah Pemasukan",children:e.jsx(m,{id:"total",name:"total",type:"number",defaultValue:t.total,children:"Jumlah"})}):e.jsx("p",{children:"Loading..."})})},p=c=>{const{id:n,showMessage:s,setTextMessage:d}=c,[t,l]=i.useState(),u=async a=>{const o=x(a);await h(`expense/${n}`,{body:o})&&s()};return i.useEffect(()=>{d("Berhasil mengubah pengeluaran"),(async o=>{const r=await f(o);r&&l(r)})(`expense/${n}`)},[]),e.jsx(e.Fragment,{children:t?e.jsx("div",{className:"text-start",children:e.jsxs(g,{handleSubmit:u,textButton:"Ubah Pengeluaran",children:[e.jsx(m,{id:"total",name:"total",type:"number",defaultValue:t.total,children:"Jumlah"}),e.jsx(m,{id:"info",name:"info",type:"text",defaultValue:t.info,children:"Keterangan"})]})}):e.jsx("p",{children:"Loading..."})})},E=()=>{const{id:c,category:n}=y(),s=i.useRef(null),[d,t]=i.useState(""),l=i.useCallback(()=>{var u;(u=s.current)==null||u.classList.remove("d-none"),setTimeout(()=>{var a;(a=s.current)==null||a.classList.toggle("d-none")},2e3)},[s]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"alert alert-success my-4 d-none",ref:s,children:d}),n==="in"?e.jsx(j,{id:c,showMessage:l,setTextMessage:t}):e.jsx(p,{id:c,showMessage:l,setTextMessage:t})]})};export{E as default};
